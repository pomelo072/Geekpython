# 同步IO

- 文件读写
- `StringIO`和`BytesIO`
- 操作文件和目录
- 序列化

---

## 文件读写

- 使用`open('path', 'mode', [encoding=''], [errors='ignore'])`打开一个文件。
- 使用`read()`读取文件（一次性），`readline()`读取一行，`read(size)`读取size个字节，`readlines()`一次性读取并返回`list`。
- 使用`write`写入文件。
- 标识符：

| 字符 | 意义 |
| :--: | :--:|
|  'r' | 读取（默认） |
| 'w' | 写入，并先截断文件 |
| 'x' | 排它性创建，如果文件已存在则失败 |
| 'a' | 写入，如果文件存在则在末尾追加 |
| 'b' | 二进制模式 |
| 't' | 文本模式（默认） |
| '+' | 打开用于更新（读取与写入） |

- 使用`close()`关闭文件，打开后一定要关闭，否则操作无效，还有未知的错误。
- 由于文件读写时都有可能产生`IOError`，一旦出错，后面的`close()`就不会调用。所以，为了保证无论是否出错都能正确地关闭文件，我们可以使用`try ... finally`来实现。
- `with ... as`语句来自动帮我们调用`close()`方法。
- file-like Object：像`open()`函数返回的这种有个`read()`方法的对象，在Python中统称为file-like Object。除了file外，还可以是内存的字节流，网络流，自定义流等等。file-like Object不要求从特定类继承，只要写个`read()`方法就行。

---























